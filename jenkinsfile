pipeline {
  agent { label 'spc' }
  stages {
    stage ('git') {
           steps {
                 git branch: 'main', url: "https://github.com/spring-projects/spring-petclinic.git"
             }
    }
    stage('build') {
      steps {
        rtMavenDeployer (
                    id: "SPC_DEPLOYER",
                    serverId: "ahmedevopsapr24",
                    releaseRepo: 'ahmedevops-libs-release-local',
                    snapshotRepo: 'ahmedevops-libs-snapshot-local'
                )
        rtMavenRun (
            tool: 'MAVEN_3.9.9',
            pom: 'pom.xml',
            goals: 'clean install',
            deployerId: "SPC_DEPLOYER"
        )
        rtPublishBuildInfo (
            serverId: "ahmedevopsapr24"
        )
    }
    } 
  }  
}



    


        